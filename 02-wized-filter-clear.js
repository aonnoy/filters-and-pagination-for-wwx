window.Wized=window.Wized||[];window.Wized.push((Wized)=>{const e=()=>{document.querySelectorAll("select[wized-filter-range-from], select[wized-filter-range-to]").forEach((e)=>{e.querySelectorAll("option").forEach((e)=>{e.disabled=!1})})};const t=()=>{const e=document.querySelectorAll('[wized-filter-element="parent-wrapper"]');e.forEach((e)=>{const t=e.getAttribute("wized-hidden-class");t&&e.classList.contains(t)&&e.classList.remove(t)})};const n=(e)=>{const t=document.querySelector(`[wized-variable="${e}"]`);return t?t.getAttribute("wized-filter-tag-category"):null};const r=(e)=>{const t=document.querySelector('[wized-filter-tag="wrapper"]');const n=[...t.querySelectorAll('[wized-filter-tag="tag-template"]')].filter((t)=>t.querySelector('[wized-filter-tag="tag-text"]').textContent.startsWith(`${e}:`));n.forEach((e)=>e.remove())};const i=(e)=>{e.split(",").forEach((e)=>{const t=e.trim();Wized.data.v[t]=Array.isArray(Wized.data.v[t])?[]:null;document.querySelectorAll(`[wized-variable="${t}"] input[type="checkbox"], [wized-variable="${t}"] input[type="radio"]`).forEach((e)=>{e.checked=!1;const t=e.previousElementSibling;t&&t.classList.contains("w--redirected-checked")&&t.classList.remove("w--redirected-checked")});const n=document.querySelector(`select[wized-variable="${t}"]`);n&&(n.selectedIndex=0);const r=document.querySelector(`input[wized-filter-search*="${t}"]`);r&&(r.value="");const i=n(t);i&&o(i);e()});e();t();d()};const o=()=>{let e=n();console.log("Filters were active before clearing:",e);document.querySelectorAll("[wized-filter-clear]").forEach((e)=>{const t=e.getAttribute("wized-filter-clear");"clear-all"!==t&&i(t)});e();t();const r=document.querySelector('[wized-filter-tag="wrapper"]');r&&(r.innerHTML="");if(e()){resetCurrentPageToFirst();d()}else console.log("Skipping Wized request execution as no filters were active.")};const c=()=>{const e=document.querySelector('[wized-filter-element="filters"]')?.getAttribute("wized-filter-current-page");if(e&&Wized.data.v.hasOwnProperty(e)){Wized.data.v[e]=1}};const s=()=>{const e=document.querySelectorAll("[wized-variable]");return Array.from(e).some((e)=>{const t=e.getAttribute("wized-variable");const n=Wized.data.v[t];const r=(Array.isArray(n)&&n.length>0)||(typeof n==="string"&&n.trim()!=="");console.log(`Filter ${t}: Active - ${r}`);return r})};const u=(e,t)=>{let n;return function(...o){const c=this;clearTimeout(n);n=setTimeout(()=>e.apply(c,o),t)}};const l=async()=>{const e=document.querySelector("[wized-filter-request-trigger]");if(e){const t=e.getAttribute("wized-filter-request-trigger");if(t){try{console.log(`Executing request: ${t}`);await Wized.requests.execute(t);console.log(`Request ${t} executed successfully`)}catch(e){console.error(`Error executing request ${t}:`,e)}}}};const f=()=>{if(s()){resetInfiniteLoadingContent();const e=document.querySelector('[wized-filter-element="filters"]')?.getAttribute("wized-filter-current-page");if(e&&Wized.data.v.hasOwnProperty(e)){Wized.data.v[e]=1}}l()};const d=u(f,1e3);function resetInfiniteLoadingContent(){const e=document.querySelector("[wized-load-more-variable]")?.getAttribute("wized-load-more-variable");e&&Wized.data.v.hasOwnProperty(e)&&(Wized.data.v[e]=[])}document.querySelectorAll("[wized-filter-clear]").forEach((e)=>{e.addEventListener("click",(t)=>{t.preventDefault();const n=e.getAttribute("wized-filter-clear");"clear-all"===n?o():i(n);d()})});const h=()=>{const e=document.querySelectorAll('[wized-variable] input[type="checkbox"], [wized-variable] input[type="radio"], select[wized-variable], input[wized-filter*="search"]');e.forEach((e)=>{e.addEventListener("change",f)});const t=document.querySelector("[wized-filter-request-trigger]");t&&t.addEventListener("click",l)};const p=new MutationObserver((e)=>{e.forEach((e)=>{if(e.type==="childList"&&e.addedNodes.length>0){h()}})});p.observe(document.querySelector('[wized-filter-element="filters"]'),{childList:!0,subtree:!0});h();e();t()}); 
